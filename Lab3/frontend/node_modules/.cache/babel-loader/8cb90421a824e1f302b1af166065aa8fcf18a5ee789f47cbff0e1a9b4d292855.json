{"ast":null,"code":"import React,{useEffect,useState}from'react';import{mockApi}from'../services/mockApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Explore(){const[q,setQ]=useState('');const[stalls,setStalls]=useState([]);const[tags,setTags]=useState([]);const[sortBy,setSortBy]=useState('distance');useEffect(()=>{search();},[]);const toggleTag=t=>{setTags(prev=>prev.includes(t)?prev.filter(x=>x!==t):[...prev,t]);};const search=async()=>{const res=await mockApi.getStalls({q,tags,sortBy});if(res.success)setStalls(res.stalls);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:q,onChange:e=>setQ(e.target.value),placeholder:\"Search by stall or centre\",className:\"flex-1 p-2 border rounded\"}),/*#__PURE__*/_jsx(\"button\",{onClick:search,className:\"bg-green-600 text-white px-4 rounded\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-x-2\",children:['Vegan','Vegetarian','Halal','Healthy','High Protein'].map(t=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleTag(t),className:\"px-2 py-1 border rounded \".concat(tags.includes(t)?'bg-green-100':'bg-white'),children:t},t))}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"distance\",children:\"Distance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price\",children:\"Average price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popularity\",children:\"Popularity\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-3\",children:stalls.map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:s.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[s.center,\" \\u2022 \",s.address]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs\",children:s.tags.join(' • ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:s.price?\"$\".concat(s.price):'Unavailable'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mt-2 \".concat(s.open?'text-green-600':'text-red-500'),children:s.open?'Open':'Closed'})]})]},s.id))})]});}","map":{"version":3,"names":["React","useEffect","useState","mockApi","jsx","_jsx","jsxs","_jsxs","Explore","q","setQ","stalls","setStalls","tags","setTags","sortBy","setSortBy","search","toggleTag","t","prev","includes","filter","x","res","getStalls","success","children","className","value","onChange","e","target","placeholder","onClick","map","concat","s","name","center","address","join","price","open","id"],"sources":["D:/Documents/GitHub/2006-SCSD-16/Lab3/frontend/src/pages/Explore.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { mockApi } from '../services/mockApi';\r\n\r\nexport default function Explore(){\r\n  const [q, setQ] = useState('');\r\n  const [stalls, setStalls] = useState([]);\r\n  const [tags, setTags] = useState([]);\r\n  const [sortBy, setSortBy] = useState('distance');\r\n\r\n  useEffect(()=>{ search(); },[]);\r\n\r\n  const toggleTag = (t) => {\r\n    setTags(prev => prev.includes(t) ? prev.filter(x=>x!==t) : [...prev,t]);\r\n  };\r\n\r\n  const search = async () => {\r\n    const res = await mockApi.getStalls({ q, tags, sortBy });\r\n    if (res.success) setStalls(res.stalls);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex gap-3 mb-3\">\r\n        <input value={q} onChange={e=>setQ(e.target.value)} placeholder=\"Search by stall or centre\" className=\"flex-1 p-2 border rounded\" />\r\n        <button onClick={search} className=\"bg-green-600 text-white px-4 rounded\">Search</button>\r\n      </div>\r\n\r\n      <div className=\"flex gap-4 mb-4\">\r\n        <div className=\"space-x-2\">\r\n          {['Vegan','Vegetarian','Halal','Healthy','High Protein'].map(t=>(\r\n            <button key={t} onClick={()=>toggleTag(t)} className={`px-2 py-1 border rounded ${tags.includes(t)?'bg-green-100':'bg-white'}`}>{t}</button>\r\n          ))}\r\n        </div>\r\n        <select value={sortBy} onChange={e=>setSortBy(e.target.value)} className=\"p-2 border rounded\">\r\n          <option value=\"distance\">Distance</option>\r\n          <option value=\"price\">Average price</option>\r\n          <option value=\"popularity\">Popularity</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"grid gap-3\">\r\n        {stalls.map(s=>(\r\n          <div key={s.id} className=\"bg-white p-4 rounded shadow flex justify-between items-center\">\r\n            <div>\r\n              <div className=\"font-semibold\">{s.name}</div>\r\n              <div className=\"text-xs text-gray-500\">{s.center} • {s.address}</div>\r\n              <div className=\"mt-2 text-xs\">{s.tags.join(' • ')}</div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-sm\">{s.price ? `$${s.price}` : 'Unavailable'}</div>\r\n              <div className={`text-xs mt-2 ${s.open ? 'text-green-600' : 'text-red-500'}`}>{s.open ? 'Open' : 'Closed'}</div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}